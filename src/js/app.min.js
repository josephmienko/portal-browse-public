!function t(e,a,n){function r(s,l){if(!a[s]){if(!e[s]){var o="function"==typeof require&&require;if(!l&&o)return o(s,!0);if(i)return i(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var d=a[s]={exports:{}};e[s][0].call(d.exports,function(t){var a=e[s][1][t];return r(a?a:t)},d,d.exports,t,e,a,n)}return a[s].exports}for(var i="function"==typeof require&&require,s=0;s<n.length;s++)r(n[s]);return r}({1:[function(t,e,a){var n=t("./search/Search.js"),r=t("./dashboard/Dashboard.js");!function(t){t(function(){t(".button-collapse").sideNav(),t(".parallax").parallax();var e={baseURL:window.location,browseURL:"browse",list:"visualizations",vals:["title","tag"]};n.init(e),t("body").hasClass("home")&&(r.init("#dash1","/data/dashboard.json"),t(".tab").click(function(){var e=t(this).children("a").attr("href");r.changeTabs(e)}))})}(jQuery)},{"./dashboard/Dashboard.js":3,"./search/Search.js":11}],2:[function(t,e,a){var n=t("./Events.js"),r=function(){function t(t){var n="#"+t.id,r=t.data,i="#3a6f8f",s={top:20,right:50,bottom:0,left:100},l=500-s.left-s.right,o=360-s.top-s.bottom,u=e(r),d=d3.scale.linear().domain([0,u]).range([10,l-s.left-s.right-10]),c=d3.select(n).append("svg").attr("width",l).attr("height",o).append("g").attr("transform","translate("+s.left+","+s.top+")");c.selectAll("rect").data(r).enter().append("rect").attr("y",function(t,e){return 55*e}).attr("x",0).attr("width",0).attr("height",50).attr("fill",i).transition().duration(500).attr("width",function(t){return d(t.raw_data)}),c.selectAll(".label").data(r).enter().append("text").text(function(t){return t.label}).attr("y",function(t,e){return 55*e+30}).attr("x",-10).style("text-anchor","end").style("font-size","12px"),c.selectAll(".data").data(r).enter().append("text").text(function(t){return t.formatted_data}).attr("y",function(t,e){return 55*e+30}).attr("x",function(t){return d(a(t.raw_data))+5}).style("text-anchor","start").style("font-size","15px").style("fill","#ee6e73")}function e(t){for(var e,n=[],r=0;r<t.length;r++)e=a(t[r].raw_data),n.push(e);return d3.max(n)}function a(t){var e=t;if("string"==typeof t){var a=t.replace("%","");e=parseInt(a)}return e}return{init:function(e){n.subscribe("bar loaded",function(e){t(e)})}}}();e.exports=r},{"./Events.js":6}],3:[function(t,e,a){var n=t("./Events.js"),r=t("./DataService.js"),i=t("./BarChart.js"),s=t("./DonutChart.js"),l=t("./Stats.js"),o=t("./Table.js"),u=function(){function t(t){for(var e=t.data,a=0;a<e.length;a++){var n=Object.keys(e[a]),r=e[a][n],i=r.title,s=r.subtitle,l=r.meta,o=r.highlights[0],u=o.formatted_data,d=o.label,c=$('#dashboard .tab a[href="#'+n+'"]'),f=$("#"+n);c.find("span.stat").text(u),c.find("p").text(d),f.append("<h3>"+i+"</h3>"),f.append('<h5 class="subtitle">'+s+"</h5>"),f.append('<p class="meta">'+l+"</p>");var h;h="dash1"===n[0]?"investigations":"dash2"===n[0]?"out-of-home-care":"dash3"===n[0]?"permanency percent":"outcomes",f.append('<div class="btn-row"><a href="/browse?'+h+'" class="btn">Related visualizations</a></div>')}}return{init:function(e,a){r.init(),i.init(),s.init(),l.init(),o.init(),n.publish("Load data",{filepath:a,element:e}),n.subscribe("Data loaded",function(e){t(e)})},changeTabs:function(t){n.publish("New dashboard",{element:t})}}}();e.exports=u},{"./BarChart.js":2,"./DataService.js":4,"./DonutChart.js":5,"./Events.js":6,"./Stats.js":7,"./Table.js":8}],4:[function(t,e,a){var n=t("./Events.js"),r=function(){function t(t,a){d3.json(t,function(t,i){return t?console.warn(t):(r=i,n.publish("Data loaded",{data:r}),void e(a))})}function e(t){for(var e,n=t.replace("#",""),i=0;i<r.length;i++)"undefined"!=typeof r[i][n]&&(e=r[i][n],a(t,e))}function a(t,e){for(var a,r,i,s,l=e.dashboard,o=Object.keys(l),u=12/o.length,d=0;d<o.length;d++)widgetID=o[d],a=l[o[d]],i=a.type,widgetTitle=a.title,widgetMeta=a.meta,r=a.data,s=i+" loaded",$(t).append('<div class="dashboard-widget" id="'+widgetID+'"></div>'),$("#"+widgetID).addClass("col s12 l"+u).append("<h4>"+widgetTitle+"</h4>"),"undefined"!=typeof widgetMeta&&$("#"+widgetID).append('<h5 class="subtitle">'+widgetMeta+"</h5>"),n.publish(s,{id:widgetID,el:t,data:r})}var r;return{init:function(){n.subscribe("Load data",function(e){var a=e.filepath,n=e.element;$(n).addClass("loaded"),t(a,n)}),n.subscribe("New dashboard",function(t){var a=t.element,n=$(a).hasClass("loaded");n===!1&&($(a).addClass("loaded"),e(a))})}}}();e.exports=r},{"./Events.js":6}],5:[function(t,e,a){var n=t("./Events.js"),r=function(){function t(t){var n="#"+t.id,s=t.data,o=d3.scale.ordinal().range(["#DADFE7","#B2C3D1","#7699B0","#3a6f8f","#224357"]),u=d3.select(n).append("svg").attr("width",r).attr("height",i).append("g").attr("class","chart").attr("transform","translate("+r/2+","+i/2+")"),d=d3.layout.pie().startAngle(1.1*Math.PI).endAngle(3.1*Math.PI).value(function(t){return t.raw_data}).sort(null),c=u.selectAll(".slice").data(d(s)).enter().append("g").attr("class","slice");c.append("path").attr("d",l).attr("fill",function(t,e){return o(t.data.label)}).transition().duration(500).attrTween("d",a),c.append("text").attr("transform",function(t){return"translate("+l.centroid(t)+")"}).attr("dy",".35em").style("text-anchor","middle").attr("fill","#fff").text(function(t,e){return t.data.formatted_data}),e(u,o)}function e(t,e){var a=18,n=4,r=t.selectAll(".legend").data(e.domain()).enter().append("g").attr("class","legend").attr("transform",function(t,r){var i=a+n,s=i*e.domain().length/2,l=-4*a,o=r*i-s;return"translate("+l+","+o+")"});r.append("rect").attr("width",a).attr("height",a).style("fill",e).style("stroke",e),r.append("text").attr("x",a+n).attr("y",a-n).attr("style","font-size: 12px").text(function(t){return t})}function a(t){var e=d3.interpolate({startAngle:1.1*Math.PI,endAngle:1.1*Math.PI},t);return function(t){return l(e(t))}}var r=360,i=r,s=Math.min(r,i)/2,l=d3.svg.arc().innerRadius(.6*s).outerRadius(.9*s);d3.svg.arc().innerRadius(.9*s).outerRadius(.9*s);return{init:function(){n.subscribe("donut loaded",function(e){t(e)})}}}();e.exports=r},{"./Events.js":6}],6:[function(t,e,a){var n=function(){var t={},e=t.hasOwnProperty;return{subscribe:function(a,n){e.call(t,a)||(t[a]=[]);var r=t[a].push(n)-1;return{remove:function(){delete t[a][r]}}},publish:function(a,n){e.call(t,a)&&t[a].forEach(function(t){t(void 0!=n?n:{})})}}}();e.exports=n},{}],7:[function(t,e,a){var n=t("./Events.js"),r=function(){function t(t){var e="#"+t.id,a=t.data[0].formatted_data;$(e).append('<span class="big-stat">'+a+"</span>")}return{init:function(e){n.subscribe("stat loaded",function(e){t(e)})}}}();e.exports=r},{"./Events.js":6}],8:[function(t,e,a){var n=t("./Events.js"),r=function(){function t(t){var e="#"+t.id,a=t.data,n=Object.keys(a[0]),r=["Race/Ethnicity","Rate per 1,000"],i=n.indexOf("raw_data");-1!=i&&n.splice(i,1);var s=d3.select(e).append("table"),l=s.append("thead"),o=s.append("tbody");l.append("tr").selectAll("th").data(r).enter().append("th").text(function(t){return t});var u=o.selectAll("tr").data(a).enter().append("tr");u.selectAll("td").data(function(t){return n.map(function(e){return{column:e,value:t[e]}})}).enter().append("td").text(function(t){return t.value})}return{init:function(){n.subscribe("table loaded",function(e){t(e)})}}}();e.exports=r},{"./Events.js":6}],9:[function(t,e,a){var n=function(){function t(t,a){var n='.filter[data-value="'+t+'"]',i=$(n).hasClass("active");i?($(n).removeClass("active"),r.splice(r.indexOf(t),1),e(a)):($(n).addClass("active"),r.push(t),e(a))}function e(t){t.filter(function(t){for(var e=t.values().tag,a=0,n=r.length;n>a;a++)if(-1===e.indexOf(r[a]))return!1;return!0});var e=t.matchingItems;n(e)}function a(t){$(".filter").each(function(){$(this).removeClass("active")});var e=document.getElementById("keyword-search");e.value="",$(e).blur(),$("#results").text("All Results"),r=[],t.filter(),t.search()}function n(t){var e=t.length;r.length>0&&1!=e?$("#results").text(e+" results"):r.length>0&&1===e?$("#results").text(e+" result"):$("#results").text("All Results")}var r=[];return{filter:t,resetFilters:a}}();e.exports=n},{}],10:[function(t,e,a){var n=function(){function t(t,e){r=t,i=e}function e(t){var e,a=t.target,n=(window.location.hostname,"/"+i+"?");$(a).hasClass("tag")?(e=$(a).text(),n+="tag=",n+=e.replace(/\s+/g,"-").toLowerCase()):(e=$(a).find("input").val(),n+=e.replace(/\s+/g,"-").toLowerCase()),window.location.href=n}function a(t){var e=t.target,a=$(e).val();if(0!=a.length){r.fuzzySearch.search(a);var n=r.matchingItems,i=n.length;$("#results").text(i+' results for "'+a+'"')}else r.filter(),r.search(),$("#results").text("All results")}function n(t,e){e.fuzzySearch.search(t);var a=document.getElementById("keyword-search");a.value=t,$(a).focus();var n=e.matchingItems,r=n.length;$("#results").text(r+' results for "'+t+'"')}var r,i;return{init:t,submitQuery:e,filterOnKeyup:a,filterOnLoad:n}}();e.exports=n},{}],11:[function(t,e,a){var n=t("./Filter.js"),r=t("./Input.js"),i=function(){function t(t){var n=(t.baseURL,t.browseURL),s=t.list,l=t.vals;e(s,l),a(),r.init(i,n)}function e(t,e){var a={valueNames:e,plugins:[ListFuzzySearch()]};i=new List(t,a);var s=window.location.search.replace("?",""),l=s.replace(/-/g," ");if(0!=i.matchingItems.length)if(i.sort("title",{order:"asc"}),0!=l.length&&-1===l.indexOf("tag"))r.filterOnLoad(l,i);else if(0!=l.length&&l.indexOf("tag")>-1){var o=l.split("=")[1];n.filter(o,i)}}function a(){$("#search").click(function(){$(this).find("label").remove()}),$("#search").submit(function(t){return r.submitQuery(t),!1}),$("a.tag").click(function(t){r.submitQuery(t)}),$("#keyword-search").on("keyup",function(t){r.filterOnKeyup(t)}),$(".filter").click(function(t){var e=$(this).attr("data-value");n.filter(e,i)}),$("#showall").click(function(){return n.resetFilters(i),!1})}var i;return{init:t}}();e.exports=i},{"./Filter.js":9,"./Input.js":10}]},{},[1]);