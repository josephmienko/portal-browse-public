!function t(e,a,n){function r(i,l){if(!a[i]){if(!e[i]){var o="function"==typeof require&&require;if(!l&&o)return o(i,!0);if(s)return s(i,!0);var c=new Error("Cannot find module '"+i+"'");throw c.code="MODULE_NOT_FOUND",c}var d=a[i]={exports:{}};e[i][0].call(d.exports,function(t){var a=e[i][1][t];return r(a?a:t)},d,d.exports,t,e,a,n)}return a[i].exports}for(var s="function"==typeof require&&require,i=0;i<n.length;i++)r(n[i]);return r}({1:[function(t,e,a){var n=t("./search/Search.js"),r=t("./dashboard/Dashboard.js"),s=function(){function t(){$(".button-collapse").sideNav(),$(".parallax").parallax(),e(),a();var t=window.location.href.split("/"),n=t[3];$("#nav-mobile li a").each(function(){$(this).attr("href").indexOf(n)>-1&&$(this).addClass("current")}),$(".browse .filters").css("visibility","visible"),$("#visualizations").css("visibility","visible")}function e(){var t={baseURL:window.location,browseURL:"browse",list:"visualizations",searchVals:["title","tag","type","keyword"],vocabs:["tag","type"]};n.init(t)}function a(){$("body").hasClass("home")&&(r.init("#dash1","/content-data/data/dashboard/dashboard.json"),s(),$(".tab").click(function(){var t=$(this).children("a").attr("href");r.changeTabs(t)}))}function s(){var t=window.matchMedia("screen and (min-width: 992px)");if(t.matches===!1){$("#dashboard .tabs").tabs();var e=$("#dashboard .tab").length;$("#dashboard .tabs").attr("style","width: "+100*e+"%;");var a=new $.Event("style"),n=$.fn.css;$.fn.css=function(){return $(this).trigger(a),n.apply(this,arguments)},$("#dashboard .tabs").on("style",function(t){$("#dashboard .tabs").attr("style","width: "+100*e+"%;")}),$("#dashboard .tabs").on("swipeleft swiperight click",function(t){t.preventDefault();var a=1;"swiperight"===t.type&&(a=-1);var n=$(".tabs .tab a.active"),s=parseInt(n.attr("href").slice(-1)),l=s+a,o=!1;l<1?(l=e,o=!0):l>e&&(l=1,o=!0);var c="#dash"+l;i(s,l,o),r.changeTabs(c)})}}function i(t,e,a){var n,r="#dash"+t,s="#dash"+e;if(e<t)n=a?{left:0}:{left:"+=100%"};else if(a){var i=100*(e-1);n={left:"-"+i+"%"}}else n={left:"-=100%"};$(".tab a[href="+r+"]").removeClass("active"),$(".tab a[href="+s+"]").addClass("active"),$("#dashboard .tabs").animate(n,300),$(r).attr("style","display: none;"),$(s).attr("style","display: block;")}return{init:t}}();s.init()},{"./dashboard/Dashboard.js":3,"./search/Search.js":11}],2:[function(t,e,a){var n=t("./Events.js"),r=function(){function t(t){var n=window.matchMedia("only screen and (min-width: 992px)"),r=n.matches===!0?500:400,s="#"+t.id,i=t.data,l="#3a6f8f",o={top:20,right:50,bottom:0,left:100},c=r-o.left-o.right,d=360-o.top-o.bottom,u=e(i),f=d3.scale.linear().domain([0,u]).range([10,c-o.left-o.right-10]),h=d3.select(s).append("svg").attr("width",c).attr("height",d).append("g").attr("transform","translate("+o.left+","+o.top+")");h.selectAll("rect").data(i).enter().append("rect").attr("y",function(t,e){return 55*e}).attr("x",0).attr("width",0).attr("height",50).attr("fill",l).transition().duration(500).attr("width",function(t){return f(t.raw_data)}),h.selectAll(".label").data(i).enter().append("text").text(function(t){return t.label}).attr("y",function(t,e){return 55*e+30}).attr("x",-10).style("text-anchor","end").style("font-size","12px"),h.selectAll(".data").data(i).enter().append("text").text(function(t){return t.formatted_data}).attr("y",function(t,e){return 55*e+30}).attr("x",function(t){return f(a(t.raw_data))+5}).style("text-anchor","start").style("font-size","15px").style("fill","#ee6e73")}function e(t){for(var e,n=[],r=0;r<t.length;r++)e=a(t[r].raw_data),n.push(e);return d3.max(n)}function a(t){var e=t;if("string"==typeof t){var a=t.replace("%","");e=parseInt(a)}return e}return{init:function(e){n.subscribe("bar loaded",function(e){t(e)})}}}();e.exports=r},{"./Events.js":6}],3:[function(t,e,a){var n=t("./Events.js"),r=t("./DataService.js"),s=t("./BarChart.js"),i=t("./DonutChart.js"),l=t("./Stats.js"),o=t("./Table.js"),c=function(){function t(t){for(var e=t.data,a=0;a<e.length;a++){var n=Object.keys(e[a]),r=e[a][n],s=r.title,i=r.subtitle,l=r.meta,o=r.highlights[0],c=o.formatted_data,d=o.label,u=$('#dashboard .tab a[href="#'+n+'"]'),f=$("#"+n);u.find("span.stat").text(c),u.find("p").text(d),f.append("<h3>"+s+"</h3>"),f.append('<h5 class="subtitle">'+i+"</h5>"),f.append('<p class="meta">'+l+"</p>");var h;h="dash1"===n[0]?"investigations":"dash2"===n[0]?"out-of-home-care":"dash3"===n[0]?"permanency percent":"outcomes",f.append('<div class="btn-row"><a href="/browse?'+h+'" class="btn">Related visualizations</a></div>')}}return{init:function(e,a){r.init(),s.init(),i.init(),l.init(),o.init(),n.publish("Load data",{filepath:a,element:e}),n.subscribe("Data loaded",function(e){t(e)})},changeTabs:function(t){n.publish("New dashboard",{element:t})}}}();e.exports=c},{"./BarChart.js":2,"./DataService.js":4,"./DonutChart.js":5,"./Events.js":6,"./Stats.js":7,"./Table.js":8}],4:[function(t,e,a){var n=t("./Events.js"),r=function(){function t(t,a){d3.json(t,function(t,s){return t?console.warn(t):(r=s,n.publish("Data loaded",{data:r}),void e(a))})}function e(t){for(var e,n,s=t.replace("#",""),i=0;i<r.length;i++)"undefined"!=typeof r[i][s]&&(n=Object.keys(r[i]),e=r[i][s],a(t,e,n))}function a(t,e,a){for(var r,s,i,l,o,c,d,u=e.dashboard,f=Object.keys(u),h=12/f.length,p=0;p<f.length;p++)l=a+"-"+f[p],r=u[f[p]],i=r.type,o=r.title,c=r.meta,s=r.data,d=i+" loaded",$(t).append('<div class="dashboard-widget" id="'+l+'"></div>'),$("#"+l).addClass("col s12 l"+h).append("<h4>"+o+"</h4>"),"undefined"!=typeof c&&$("#"+l).append('<h5 class="subtitle">'+c+"</h5>"),n.publish(d,{id:l,el:t,data:s})}var r;return{init:function(){n.subscribe("Load data",function(e){var a=e.filepath,n=e.element;$(n).addClass("loaded"),t(a,n)}),n.subscribe("New dashboard",function(t){var a=t.element,n=$(a).hasClass("loaded");n===!1&&($(a).addClass("loaded"),e(a))})}}}();e.exports=r},{"./Events.js":6}],5:[function(t,e,a){var n=t("./Events.js"),r=function(){function t(t){r="#"+t.id,s=t.data;var n=d3.scale.ordinal().range(["#DADFE7","#B2C3D1","#7699B0","#3a6f8f","#224357"]),i=d3.select(r).append("svg").attr("width",l).attr("height",o).append("g").attr("class","chart").attr("transform","translate("+l/2+","+o/2+")"),c=d3.layout.pie().startAngle(1.1*Math.PI).endAngle(3.1*Math.PI).value(function(t){return t.raw_data}).sort(null),u=i.selectAll(".slice").data(c(s)).enter().append("g").attr("class","slice");u.append("path").attr("d",d).attr("fill",function(t,e){return n(t.data.label)}).transition().duration(500).attrTween("d",a),u.append("text").attr("transform",function(t){return"translate("+d.centroid(t)+")"}).attr("dy",".35em").style("text-anchor","middle").attr("fill","#fff").text(function(t,e){return t.data.formatted_data}),e(i,n)}function e(t,e){var a,n,s=18,c=4;i.matches===!0?a=t.selectAll(".legend").data(e.domain()).enter().append("g").attr("class","legend").attr("transform",function(t,a){var n=s+c,r=n*e.domain().length/2,i=-4*s,l=a*n-r;return"translate("+i+","+l+")"}):(n=d3.select(r).append("svg").attr("id","legendSVG").attr("width",l).attr("height",o/2),a=n.selectAll(".legend").data(e.domain()).enter().append("g").attr("class","legend").attr("transform",function(t,e){var a=s+c,n=0,r=e*a;return"translate("+n+","+r+")"})),a.append("rect").attr("width",s).attr("height",s).style("fill",e).style("stroke",e),a.append("text").attr("x",s+c).attr("y",s-c).attr("style","font-size: 12px").text(function(t){return t})}function a(t){var e=d3.interpolate({startAngle:1.1*Math.PI,endAngle:1.1*Math.PI},t);return function(t){return d(e(t))}}var r,s,i=window.matchMedia("only screen and (min-width: 992px)"),l=i.matches===!0?360:250,o=l,c=Math.min(l,o)/2,d=d3.svg.arc().innerRadius(.6*c).outerRadius(.9*c);return{init:function(){n.subscribe("donut loaded",function(e){t(e)})}}}();e.exports=r},{"./Events.js":6}],6:[function(t,e,a){var n=function(){var t={},e=t.hasOwnProperty;return{subscribe:function(a,n){e.call(t,a)||(t[a]=[]),t[a].push(n)},publish:function(a,n){e.call(t,a)&&t[a].forEach(function(t){t(void 0!==n?n:{})})}}}();e.exports=n},{}],7:[function(t,e,a){var n=t("./Events.js"),r=function(){function t(t){var e="#"+t.id,a=t.data[0].formatted_data;$(e).append('<span class="big-stat">'+a+"</span>")}return{init:function(e){n.subscribe("stat loaded",function(e){t(e)})}}}();e.exports=r},{"./Events.js":6}],8:[function(t,e,a){var n=t("./Events.js"),r=function(){function t(t){var e="#"+t.id,a=t.data,n=Object.keys(a[0]),r=["Race/Ethnicity","Rate per 1,000"],s=n.indexOf("raw_data");s!=-1&&n.splice(s,1);var i=d3.select(e).append("table"),l=i.append("thead"),o=i.append("tbody");l.append("tr").selectAll("th").data(r).enter().append("th").text(function(t){return t});var c=o.selectAll("tr").data(a).enter().append("tr");c.selectAll("td").data(function(t){return n.map(function(e){return{column:e,value:t[e]}})}).enter().append("td").text(function(t){return t.value})}return{init:function(){n.subscribe("table loaded",function(e){t(e)})}}}();e.exports=r},{"./Events.js":6}],9:[function(t,e,a){var n=function(){function t(t,e){for(var a=0;a<t.length;a++)i[t[a]]=[];var n=e.matchingItems;s=n.length}function e(t,e){var n='.filter[data-value="'+t+'"]',s=$(n).hasClass("active"),l=$(n).attr("data-filters");if(s){$(n).removeClass("active");var o=i[l];o.splice(o.indexOf(t),1),a(e)}else $(n).addClass("active"),i[l].push(t),a(e);r(e.matchingItems)}function a(t){t.filter(function(t){var e=t.values();for(var a in i)if(i.hasOwnProperty(a))for(var n=0,r=i[a].length;n<r;n++)if(e[a].indexOf(i[a][n])===-1)return!1;return!0});var e=t.matchingItems;r(e)}function n(t){$(".filter").each(function(){$(this).removeClass("active")});var e=document.getElementById("keyword-search");e.value="",$(e).blur(),$("#results").text("All Results"),t.filter(),t.search();for(var a in i)i.hasOwnProperty(a)&&(i[a]=[])}function r(t){var e=t.length;e>1&&e!=s?$("#results").text(e+" results"):1===e?$("#results").text(e+" result"):0===e?$("#results").text("No Results"):$("#results").text("All Results")}var s,i={};return{init:t,filter:e,resetFilters:n}}();e.exports=n},{}],10:[function(t,e,a){var n=function(){function t(t,e){r=t,s=e}function e(t){var e,a=t.target,n=(window.location.hostname,"/"+s+"?");$(a).hasClass("tag")?(e=$(a).text(),n+="tag=",n+=e.replace(/\s+/g,"-").toLowerCase()):(e=$(a).find("input").val(),n+=e.replace(/\s+/g,"-").toLowerCase()),window.location.href=n}function a(t){var e=t.target,a=$(e).val();if(0!==a.length){r.search(a);var n=r.matchingItems,s=n.length;$("#results").text(s+' results for "'+a+'"')}else r.filter(),r.search(),$("#results").text("All results")}function n(t,e){e.fuzzySearch.search(t);var a=document.getElementById("keyword-search");a.value=t,$(a).focus();var n=e.matchingItems,r=n.length;$("#results").text(r+' results for "'+t+'"')}var r,s;return{init:t,submitQuery:e,filterOnKeyup:a,filterOnLoad:n}}();e.exports=n},{}],11:[function(t,e,a){var n=t("./Filter.js"),r=t("./Input.js"),s=function(){function t(t){var i=(t.baseURL,t.browseURL),l=t.list,o=t.searchVals;e(l,o),a(),n.init(t.vocabs,s),r.init(s,i)}function e(t,e){var a={valueNames:e,plugins:[ListFuzzySearch()]};s=new List(t,a);var i=window.location.search.replace("?",""),l=i.replace(/-/g," ");if(0!==s.matchingItems.length)if(s.sort("title",{order:"asc"}),0!==l.length&&l.indexOf("tag")===-1)r.filterOnLoad(l,s);else if(0!==l.length&&l.indexOf("tag")>-1){var o=l.split("=")[1];n.filter(o,s)}}function a(){$("#search").click(function(){$(this).find("label").remove()}),$("#search").submit(function(t){return r.submitQuery(t),!1}),$("a.tag").click(function(t){r.submitQuery(t)}),$("#keyword-search").on("keyup",function(t){r.filterOnKeyup(t)}),$(".filter").click(function(t){var e=$(this).attr("data-value");n.filter(e,s)}),$("#showall").click(function(){return n.resetFilters(s),!1})}var s;return{init:t}}();e.exports=s},{"./Filter.js":9,"./Input.js":10}]},{},[1]);